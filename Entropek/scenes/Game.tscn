[gd_scene load_steps=4 format=3 uid="uid://dyshyxa5ysn7v"]

[ext_resource type="Script" uid="uid://dg4h4toplh4i0" path="res://Entropek/source/globals/SceneManager.cs" id="1_3ypkp"]
[ext_resource type="Script" uid="uid://dlxuuf8pcvm7v" path="res://source/managers/GameManager.cs" id="2_y3xkw"]
[ext_resource type="Script" uid="uid://bmj23kybcgjq7" path="res://source/managers/input/InputManager.cs" id="3_3ypkp"]

[node name="Main" type="Node"]

[node name="World2D" type="Node2D" parent="."]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -720.0
offset_top = -540.0
offset_right = 1200.0
offset_bottom = 540.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.75, 1)
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="World3D" type="Node3D" parent="SubViewportContainer/SubViewport"]

[node name="SceneManager" type="Node" parent="." node_paths=PackedStringArray("world2D", "world3D", "gui", "loadScene2DDelayTimer", "loadScene3DDelayTimer", "loadGuiDelayTimer")]
script = ExtResource("1_3ypkp")
world2D = NodePath("../World2D")
world3D = NodePath("../SubViewportContainer/SubViewport/World3D")
gui = NodePath("../GUI")
loadScene2DDelayTimer = NodePath("LoadScene2DDelayTimer")
loadScene3DDelayTimer = NodePath("LoadScene3DDelayTimer")
loadGuiDelayTimer = NodePath("LoadGuiDelayTimer")
scene3DStart = "1-3"
guiStart = "GameplayGui"

[node name="LoadGuiDelayTimer" type="Timer" parent="SceneManager"]
one_shot = true

[node name="LoadScene2DDelayTimer" type="Timer" parent="SceneManager"]
one_shot = true

[node name="LoadScene3DDelayTimer" type="Timer" parent="SceneManager"]
one_shot = true

[node name="GUI" type="CanvasLayer" parent="."]

[node name="InputManager" type="Node2D" parent="." node_paths=PackedStringArray("gameViewport", "blockAimInputTimer", "blockAttackInputTimer", "blockDashInputTimer", "blockHealInputTimer", "blockInteractInputTimer", "blockMovementInputTimer", "blockShootInputTimer")]
script = ExtResource("3_3ypkp")
gameViewport = NodePath("../SubViewportContainer/SubViewport")
blockAimInputTimer = NodePath("BlockAimTimer")
blockAttackInputTimer = NodePath("BlockAttackTimer")
blockDashInputTimer = NodePath("BlockDashTimer")
blockHealInputTimer = NodePath("BlockHealTimer")
blockInteractInputTimer = NodePath("BlockInteractTimer")
blockMovementInputTimer = NodePath("BlockMovementTimer")
blockShootInputTimer = NodePath("BlockShootTimer")

[node name="BlockAimTimer" type="Timer" parent="InputManager"]
one_shot = true

[node name="BlockAttackTimer" type="Timer" parent="InputManager"]
one_shot = true

[node name="BlockDashTimer" type="Timer" parent="InputManager"]
one_shot = true

[node name="BlockHealTimer" type="Timer" parent="InputManager"]
one_shot = true

[node name="BlockInteractTimer" type="Timer" parent="InputManager"]
one_shot = true

[node name="BlockMovementTimer" type="Timer" parent="InputManager"]
one_shot = true

[node name="BlockShootTimer" type="Timer" parent="InputManager"]
one_shot = true

[node name="GameManager" type="Node" parent="." node_paths=PackedStringArray("gameViewPort")]
script = ExtResource("2_y3xkw")
gameViewPort = NodePath("../SubViewportContainer/SubViewport")
